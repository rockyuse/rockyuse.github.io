<!DOCTYPE html>
<head>
<head>
<meta charset="utf-8"/>
<title>test1</title>
<style type="text/css">
*{margin: 0; padding:0;}
</style>
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/jQueryRotate.2.2.js"></script>
</head>
<body>
<div style="width:300px; height:1000px; margin:50px auto;">
	<div style="position:relative; width:300px; height:300px;">
		<img src="images/prize.png" id="PrizeImg" />
		<a id="SpinBtn" href="javascript:;" style="position:absolute; left:110px; top:110px; width:80px; height:80px;"><img src="images/btn_spin.png" /></a>
		<div style="position:absolute; left:129px; top:-44px; width:42px; height:44px;"><img src="images/arrow.png" /></div>
	</div>
	<div style="position:relative; z-index:1000;">
		<input type="text" id="Result"/><br/>
		<input type="text" id="Index"/>
	</div>
</div>
<script type="text/javascript">
$(function(){
	$('#SpinBtn').click(function(){
		var startAngle = Math.random()*360;
		var angleIndex;
		if(startAngle >= 0 && startAngle < 45){
			angleIndex = 6;
			startAngle = 22.5;
		}else if(startAngle >= 45 && startAngle < 90){
			angleIndex = 5;
			startAngle = 67.5;
		}else if(startAngle >= 90 && startAngle < 135){
			angleIndex = 4;
			startAngle = 112.5;
		}else if(startAngle >= 135 && startAngle < 180){
			angleIndex = 3;
			startAngle = 157.5;
		}else if(startAngle >= 180 && startAngle < 225){
			angleIndex = 2;
			startAngle = 202.5;
		}else if(startAngle >= 225 && startAngle < 270){
			angleIndex = 1;
			startAngle = 247.5;
		}else if(startAngle >= 270 && startAngle < 315){
			angleIndex = 8;
			startAngle = 292.5;
		}else if(startAngle >= 315 && startAngle < 360){
			angleIndex = 7;
			startAngle = 337.5;
		}

		$('#PrizeImg').rotate({
			duration: 5000,
			angle: startAngle, 
			animateTo: 3600+startAngle,
			callback: function(){
				$('#Result').val(startAngle);
				$('#Index').val(angleIndex);
			}
		})
	});
})
</script>
</body>
</html>
